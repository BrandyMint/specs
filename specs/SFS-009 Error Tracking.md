# SFS-009 Error Tracking

Приложения сообщают о возникших исключениях в Sentry.

Адрес источника данных для Sentry указывается через переменную окружения
`SENTRY_DSN`

При отправке сведений в Sentry приложение указывает свою версию (AppVersion) и
название (Service).

# Бизнесовый HTTP-сервис

Если приложение поддерживает HTTP-протокол для бизнес функций, то позволяет
выполнить проверку отправки тестовых сообщений в sentry через специальный запрос
вида:

```
curl -XPORT http://service/error?key=KEY
```

В результате этого запроса отправляется сообщение в Sentry и приходит ответ со
статусом `200`. 

Либо сообщение об ошибке в текстомов виде со статусом `500`.

Где

* `/error` - настраиваемый через переменную окружения `TEST_ERROR_PATH` путь. По-умолчанию
  значение `/error`
* `KEY` - значение ключа настраиваемое через переменную окружения
  `TEST_ERROR_KEY`. Значение по-умолачнию `SFS-009`.

# Сервис с метриками по HTTP

Если приложение не обслуживает бизнесовые HTTP запросы, но отдает
prometheus-метрики, то должно поддерживать POST-запрос по пути `/error` на порт
prometheus метрик.
