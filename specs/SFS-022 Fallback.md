# SFS-022 Fallback

##  Резервная логика получения ответа (fallback)

На стороне потребителя сервиса желательно использовать резервную логику получения ответа в тех случаях, когда бизнес логика приложения допускает такой сценарий. Как правило в этом случае речь идет о вычислении менее точного, но допустимого ответа сервиса при недоступности провайдера/ получении ошибок от провайдера.

<img width="919" alt="Screenshot 2024-12-11 at 16 41 37" src="https://github.com/user-attachments/assets/e79d749b-96c8-4710-9d89-051a1e1cbe41" />

В примере ниже сервис оплаты при получении ответа с ошибкой от сервиса проверки фрода переключается на сценарий, в котором предполагается отсутствие проверки на фрод. При этом потребителю сервиса оплаты возвращается ответ без ошибки от сервиса проверки фрода.

<img width="1320" alt="Screenshot 2024-12-11 at 16 42 44" src="https://github.com/user-attachments/assets/a3a54500-c737-4b2b-88dd-a4a36d04da1c" />

В зависимости от бизнес сценария резервная логика получения ответа может включать возврат значений, например, из кэша, [graceful degradation](https://livebook.manning.com/book/microservices-in-action/chapter-6/131), когда для вычисления результата применяется менее точный, но допустимый алгоритм, и статических значений.

<img src="https://blog.codecentric.de/_next/image?url=https%3A%2F%2Fmedia.graphassets.com%2Foutput%3Dformat%3Awebp%2FP1aoYAgMQ8aq5K77hIea&w=1920&q=75" />
